<a
    {...Astro.props}
    target="_blank"
    rel="noopener noreferrer"
    class="social-pill relative overflow-hidden cursor-pointer inline-flex items-center justify-center gap-2 px-4 py-1 mx-1 text-gray-800 transition bg-gray-100 border border-gray-300 rounded-full dark:bg-gray-800 dark:border-gray-600 dark:text-white text-md group max-w-fit hover:text-white focus:outline-none active:bg-black"
>
    <!-- glow -->
    <span class="pill-glow pointer-events-none absolute inset-0"></span>

    <!-- content -->
    <span class="relative z-10 flex items-center gap-2">
    <slot />
  </span>
</a>

<style>
    .social-pill {
        --x: 50%;
        --y: 50%;
        --glow: rgba(255, 200, 120, 0.35); /* fallback */
    }

    .social-pill[data-glow="green"] {
        --glow: rgba(40, 250, 80, 0.6);
    }

    .social-pill[data-glow="blue"] {
        --glow: rgba(40, 80, 250, 0.6);
    }

    .social-pill[data-glow="red"] {
        --glow: rgba(250, 80, 40, 0.6);
    }


    .pill-glow {
        background: radial-gradient(
                120px circle at var(--x) var(--y),
                var(--glow),
                transparent 60%
        );
        opacity: 0;
        transition: opacity 0.25s ease;
    }

    .social-pill:hover .pill-glow {
        opacity: 1;
    }

    .social-pill:hover {
        box-shadow:
                0 10px 25px rgba(0, 0, 0, 0.35),
                inset 0 0 0 1px rgba(255, 255, 255, 0.08);
    }
</style>

<script>
    document.querySelectorAll('.social-pill').forEach(pill => {
        pill.addEventListener('mousemove', (e) => {
            const rect = pill.getBoundingClientRect()
            const x = e.clientX - rect.left
            const y = e.clientY - rect.top

            pill.style.setProperty('--x', `${x}px`)
            pill.style.setProperty('--y', `${y}px`)
        })
    })
</script>
